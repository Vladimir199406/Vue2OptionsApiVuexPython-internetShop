<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" /> 
        <meta name="vieport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <link rel="stylesheet" href="registration.css" type="text/css"/>
        
        <title>registration</title>
    </head>

    <!--BODY PART NEXT-->
    <body>
    <div class="backToTheMainPage">
        <nav>
            <a href="../mainPage/main.html">BACK TO MAIN PAGE</a>
            <div class="EDVbackIMG">
                <header class = "EDV">EDV project</header>
            </div>
        </nav>
    </div>
            <div id="app" v-cloak>
                <transition name='form' mode='out-in'>
                    <keep-alive>
                        <component :feedback='feedback' :is="currentComponent"
                        @register-form='handleForm' @signin-form='handleForm'></component>
                    </keep-alive>
                </transition>
            </div>

            <!-- REGISTER FORM -->
            <template id="registerTemplate">
                <!--HERE SUPPOSE TO FLY TO PYTHON-->>
                <form @submit.prevent='onSubmit' ref='form' action="form.py" class='register-form' method="POST">
                    <h2>REGISTRATION OF A NEW USER</h2>
                    <div class="form-group" >
                        <label for="firstname">SURNAME</label>
                        <input required type="text" v-model.trim='user.firstname' id='firstname' placeholder="firstname">
                    </div>
                    <div class="form-group">
                        <label for="lastname">LASTNAME</label>
                        <input required type="text" v-model.trim='user.lastname' id='lastname' placeholder="lastname">
                    </div>
                    <div class="form-group">
                        <label for="email">EMAIL</label>
                        <input required type="email" v-model.trim='user.email' id='email' placeholder="email">
                    </div>
                    <div class="form-group">
                        <label for="password">PASSWORD</label>
                        <input required type="password" v-model='user.password' placeholder="password" id='password'>
                    </div>
                    <div class="form-group">
                        <label for="passwordcheck">PASSWORD CHECK</label>
                        <input required type="password" v-model='user.passwordChck' placeholder="password check" id='passwordcheck'>
                    </div>
                    <input class="registerButton"type="submit" :disabled='!isFormValid' value='Register'>
                </form>

            </template>

            <!-- FEEDBACK-->
            <template id="feedbackTemplate">
                <div class="feedback">
                    <header>
                        <h2>ALMOST REGISTERED</h2>
                    </header>
                    <div v-if='feedback.type === "register"'>
                        <p>Thank You, <strong>{{ feedback.data | name }}</strong>.</p>
                        <p> An email has just been sent to the address {{ feedback.data | email }} to complete your registration.</p>
                    </div>
                    <div v-else>
                        <p>You will be redirected in a few moments...</p>
                    </div>
                </div>
            </template>
            <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
            <script src="registration.js"></script>

    </body>
</html>